{
  "SportsMissions_Consts": {
    "contextName": "SportsMissions_Consts",
    "variables": {
      "IS_TUTORIAL_ENABLED": true,
      "SHOW_TUTORIAL_ON_START": false,
      "MIN_START_STORY_LEVEL": 101
    }
  },
  "LocalContextConfig": {
    "contextName": "SportsMissions_Loader",
    "variables": {
        "IsAllPacksDownloaded": {
          "value": {
            "binding": "@gffResourcePackDownloadComponent:allPackDownloaded"
          }
        },
        "IsLaunchConditionsSatisfied": {
          "lua": "return GetContextValue('IsAllPacksDownloaded') and not GetContextValue('IsEventActive')"
        },
        "IsEventActive": {
          "lua": "return GetPropertyValue('@gffStateMachineComponent:currentState') ~= 'Disabled'"
        },
        "CurrentState": {
          "type": "stringValueVariable",
          "value": {
            "type": "stringValueFromProperty",
            "binding": "@gffStateMachineComponent:currentState"
          }
        },
        "IsMinPlayerLevelReached": {
          "lua": "return GetGlobalValue('CurrMainStoryLevel') >= GetContextValue('MIN_START_STORY_LEVEL')"
        },
        "CheckLaunchRequirements": {
          "lua": "return GetContextValue('IsMinPlayerLevelReached')"
        },
        "WelcomeWindow": {
          "TitleLabelTextID": "SportsMissionsTitleLabel",
          "StartButtonTextID": "SportsMissionsStartButtonLabel"
        }
    }
  },
  "ScheduleConfig": {
    "commonEnabledCondition": {
      "lua": "return GetContextValue('CheckLaunchRequirements') and GetContextValue('IsLaunchConditionsSatisfied')"
    },
    "scheduleConfigs": [
      {
        "id": "SportsMissions_CheatStart",
        "type": "gffTimeRangeScheduleLaunch",
        "cheatLaunch": true,
        "activateStart": 1756018800,
        "activateEnd": 1756364400
      },
      {
        "id": "SportsMissions820s1[TaskPack2]",
        "type": "gffTimeRangeScheduleLaunch",
        "activateStart": 1757314800,
        "activateEnd": 1757660400,
        "enabled": {
          "conditionAsset": "Cond_SportsMissions_LaunchesEnabled"
        }
      }
    ],
    "needTryActivateOnActivate": false,
    "needTryActivateOnUpdate": true
  },
  "SportsMissionConfig": {
    "balanceAsset": {
      "assetType": "SportsMissionsTasksBalanceDataAsset",
      "assetId": "SportsMissions_TaskBalanceDataAsset"
    },
    "rewardsBalanceAsset": {
      "assetType": "SportsMissionsTasksRewardsDataAsset",
      "assetId": "SportsMissions_TaskRewardsDataAsset"
    }
  },
  "ResourcePackDownloadConfig": {
    "packId": "SportsMissions",
    "enableCondition": {
      "lua": "return GetContextValue('IsEventActive')"
    },
    "requiredCondition": {
      "lua": "return GetGlobalValue('CurrMainStoryLevel') >= (GetContextValue('MIN_START_STORY_LEVEL') - 5)"
    }
  },
  "ContextRegistratorConfig": {
    "globalId": "GlobalSportsMissionsLoaderFeature",
    "contextComponentHolder": "SportsMissionsLoaderContext"
  },
  "StateMachineConfig": {
    "defaultState": "Disabled",
    "states": [
      {
        "name": "Disabled",
        "transitions": [
          {
            "target": "WaitStart",
            "triggerIds": ["StateGraph.ToWaitStart"]
          }
        ]
      },
      {
        "name": "WaitStart",
        "transitions": [
          {
            "target": "InProgress",
            "triggerIds": ["StateGraph.ToInProgress"]
          },
          {
            "target": "Disabled",
            "triggerIds": ["StateGraph.ToDisabled"]
          }
        ]
      },
      {
        "name": "InProgress",
        "transitions": [
          {
            "target": "Completed",
            "triggerIds": ["StateGraph.ToCompleted"]
          },
          {
            "target": "TimeoutReward",
            "triggerIds": ["StateGraph.ToTimeoutReward"]
          },
          {
            "target": "Disabled",
            "triggerIds": ["StateGraph.ToDisabled"]
          }
        ]
      },
      {
        "name": "Completed",
        "transitions": [
          {
            "target": "FinalReward",
            "triggerIds": ["StateGraph.ToFinalReward"]
          },
          {
            "target": "Disabled",
            "triggerIds": ["StateGraph.ToDisabled"]
          }
        ]
      },
      {
        "name": "TimeoutReward",
        "transitions": [
          {
            "target": "Disabled",
            "triggerIds": ["StateGraph.ToDisabled"]
          }
        ]
      },
      {
        "name": "FinalReward",
        "transitions": [
          {
            "target": "Disabled",
            "triggerIds": ["StateGraph.ToDisabled"]
          }
        ]
      }
    ],
    "handlersSettings": {
      "InProgress": {
        "eventsFilter": ["EnterComplete"],
        "statesFilter": ["InProgress"]
      }
    }
  }
}
